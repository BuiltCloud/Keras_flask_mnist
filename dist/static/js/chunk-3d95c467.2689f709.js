(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d95c467"],{"28b8":function(t,n,e){},"4cf1":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"sign-canvas"},[e("canvas",{ref:"canvas",attrs:{id:"canvas",width:"280",height:"280"},on:{mousedown:function(n){return t.canvasDown(n)},mousemove:function(n){return t.canvasMove(n)},mouseup:function(n){return t.canvasUp()},mouseleave:function(n){return t.canvasLeave()}}},[t._v(" 抱歉，您的浏览器暂不支持canvas元素 ")]),e("el-row",[e("br"),e("el-button",{attrs:{type:"success"},on:{click:t.clear}},[t._v("clear")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.predict}},[t._v("predict")]),e("br"),e("div",{staticClass:"centered"},[e("br"),e("span",{attrs:{id:"result"}},[t._v("预测结果: "+t._s(t.mnist.code))])])],1),e("div",[e("br"),e("span",[t._v("今日日期")]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",[t._v(t._s(t.mnist.today))]),t._v(" "),e("br"),e("span",[t._v("今日访问次数")]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",[t._v(t._s(t.mnist.visits_today))]),t._v(" "),e("br"),e("span",[t._v("总访问次数")]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",[t._v(t._s(t.mnist.visits_all))])],1)],1)},i=[],a={data:function(){return{mnist:{code:-1,today:"",visits_all:"",visits_today:""},loading:!1}},mounted:function(){this.init(),this.show()},methods:{init:function(){var t=this;axios.get("/home").then((function(n){t.mnist=n.data,t.mnist.code="请在上面框中描写数字，然后点击predict"}))},show:function(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="white",this.ctx.fillStyle="black",this.ctx.lineWidth=10},canvasDown:function(t){this.canvasMoveUse=!0;var n=t.clientX-t.target.offsetLeft+document.documentElement.scrollLeft,e=t.clientY-t.target.offsetTop+document.documentElement.scrollTop;this.ctx.beginPath(),this.ctx.moveTo(n,e)},canvasMove:function(t){if(this.canvasMoveUse){var n,e,s=t.target;n=t.clientX-s.offsetLeft+document.documentElement.scrollLeft,e=t.clientY-s.offsetTop+document.documentElement.scrollTop,this.ctx.lineTo(n,e),this.ctx.stroke()}},canvasUp:function(){this.canvasMoveUse=!1},canvasLeave:function(){this.canvasMoveUse=!1},clear:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},predict:function(){var t=this,n=this;this.loading=!0;var e=this.$refs.canvas.toDataURL("image/jpeg");console.log(e),axios.post("/predict",e).then((function(e){n.mnist=e.data,t.loading=!1}))}}},c=a,o=(e("4ef1"),e("2877")),r=Object(o["a"])(c,s,i,!1,null,"de072500",null);n["default"]=r.exports},"4ef1":function(t,n,e){"use strict";var s=e("28b8"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-3d95c467.2689f709.js.map