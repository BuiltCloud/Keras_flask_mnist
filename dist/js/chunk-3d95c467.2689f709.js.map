{"version":3,"sources":["webpack:///./src/views/mnist.vue?5884","webpack:///src/views/mnist.vue","webpack:///./src/views/mnist.vue?1863","webpack:///./src/views/mnist.vue","webpack:///./src/views/mnist.vue?16c1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","on","$event","canvasDown","canvasMove","canvasUp","canvasLeave","_v","clear","loading","predict","_s","mnist","code","today","visits_today","visits_all","staticRenderFns","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,IAAI,SAASC,MAAM,CAAC,GAAK,SAAS,MAAQ,MAAM,OAAS,OAAOC,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOV,EAAIW,WAAWD,IAAS,UAAY,SAASA,GAAQ,OAAOV,EAAIY,WAAWF,IAAS,QAAU,SAASA,GAAQ,OAAOV,EAAIa,YAAY,WAAa,SAASH,GAAQ,OAAOV,EAAIc,iBAAiB,CAACd,EAAIe,GAAG,4BAA4BX,EAAG,SAAS,CAACA,EAAG,MAAMA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQT,EAAIgB,QAAQ,CAAChB,EAAIe,GAAG,WAAWX,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,UAAU,QAAUR,EAAIiB,SAASR,GAAG,CAAC,MAAQT,EAAIkB,UAAU,CAAClB,EAAIe,GAAG,aAAaX,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAMA,EAAG,OAAO,CAACI,MAAM,CAAC,GAAK,WAAW,CAACR,EAAIe,GAAG,SAASf,EAAImB,GAAGnB,EAAIoB,MAAMC,YAAY,GAAGjB,EAAG,MAAM,CAACA,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIe,GAAG,UAAUX,EAAG,aAAa,CAACI,MAAM,CAAC,UAAY,cAAcJ,EAAG,OAAO,CAACJ,EAAIe,GAAGf,EAAImB,GAAGnB,EAAIoB,MAAME,UAAUtB,EAAIe,GAAG,KAAKX,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIe,GAAG,YAAYX,EAAG,aAAa,CAACI,MAAM,CAAC,UAAY,cAAcJ,EAAG,OAAO,CAACJ,EAAIe,GAAGf,EAAImB,GAAGnB,EAAIoB,MAAMG,iBAAiBvB,EAAIe,GAAG,KAAKX,EAAG,MAAMA,EAAG,OAAO,CAACJ,EAAIe,GAAG,WAAWX,EAAG,aAAa,CAACI,MAAM,CAAC,UAAY,cAAcJ,EAAG,OAAO,CAACJ,EAAIe,GAAGf,EAAImB,GAAGnB,EAAIoB,MAAMI,gBAAgB,IAAI,IAC7vCC,EAAkB,GC2CtB,GACE,KADF,WAEI,MAAJ,CACM,MAAN,CACQ,MAAR,EACQ,MAAR,GACQ,WAAR,GACQ,aAAR,IAEM,SAAN,IAGE,QAZF,WAaI,KAAJ,OACI,KAAJ,QAGE,QAAF,CACI,KADJ,WAEM,IAAN,OACM,MAAN,+BACQ,EAAR,aACA,0CAGI,KARJ,WASM,KAAN,yBACM,KAAN,iCACM,KAAN,wBACM,KAAN,sBAEM,KAAN,kBAGI,WAjBJ,SAiBA,GACM,KAAN,iBACM,IAAN,oEACA,kEACM,KAAN,gBACM,KAAN,iBAEI,WAxBJ,SAwBA,GAEM,GAAN,oBACQ,IACR,EACA,EAFA,WAGQ,EAAR,2DACQ,EAAR,yDACQ,KAAR,gBACQ,KAAR,eAGI,SApCJ,WAqCM,KAAN,kBAEI,YAvCJ,WAwCM,KAAN,kBAEI,MA1CJ,WA2CM,KAAN,iEAEI,QA7CJ,WA6CM,IAAN,OACA,OACM,KAAN,WACM,IAAN,4CACM,QAAN,OACM,MAAN,qCACQ,EAAR,aACQ,EAAR,iBCjH+U,I,wBCQ3UC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAAoe,EAAG","file":"js/chunk-3d95c467.2689f709.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-canvas\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"width\":\"280\",\"height\":\"280\"},on:{\"mousedown\":function($event){return _vm.canvasDown($event)},\"mousemove\":function($event){return _vm.canvasMove($event)},\"mouseup\":function($event){return _vm.canvasUp()},\"mouseleave\":function($event){return _vm.canvasLeave()}}},[_vm._v(\" 抱歉，您的浏览器暂不支持canvas元素 \")]),_c('el-row',[_c('br'),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.clear}},[_vm._v(\"clear\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.predict}},[_vm._v(\"predict\")]),_c('br'),_c('div',{staticClass:\"centered\"},[_c('br'),_c('span',{attrs:{\"id\":\"result\"}},[_vm._v(\"预测结果: \"+_vm._s(_vm.mnist.code))])])],1),_c('div',[_c('br'),_c('span',[_vm._v(\"今日日期\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('span',[_vm._v(_vm._s(_vm.mnist.today))]),_vm._v(\" \"),_c('br'),_c('span',[_vm._v(\"今日访问次数\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('span',[_vm._v(_vm._s(_vm.mnist.visits_today))]),_vm._v(\" \"),_c('br'),_c('span',[_vm._v(\"总访问次数\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('span',[_vm._v(_vm._s(_vm.mnist.visits_all))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"sign-canvas\">\n        <canvas\n                id=\"canvas\"\n                width=\"280\"\n                height=\"280\"\n                @mousedown=\"canvasDown($event)\"\n                @mousemove=\"canvasMove($event)\"\n                @mouseup=\"canvasUp()\"\n                @mouseleave=\"canvasLeave()\"\n                ref=\"canvas\"\n        >\n            抱歉，您的浏览器暂不支持canvas元素\n        </canvas>\n        <el-row>\n            <br>\n            <el-button type=\"success\" @click=\"clear\">clear</el-button>\n            <el-button type=\"primary\" @click=\"predict\" :loading=\"loading\">predict</el-button>\n            <br>\n            <div class=\"centered\">\n              <br>\n                <span id=\"result\">预测结果: {{mnist.code}}</span>\n            </div>\n        </el-row>\n\n        <div>\n            <br>\n\n            <span>今日日期</span>\n            <el-divider direction=\"vertical\"></el-divider>\n            <span>{{mnist.today}}</span> <br>\n\n            <span>今日访问次数</span>\n            <el-divider direction=\"vertical\"></el-divider>\n            <span>{{mnist.visits_today}}</span> <br>\n\n            <span>总访问次数</span>\n            <el-divider direction=\"vertical\"></el-divider>\n            <span>{{mnist.visits_all}}</span>\n        </div>\n\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                mnist: {\n                    code: -1,\n                    today: '',\n                    visits_all: '',\n                    visits_today: '',\n                },\n                loading: false\n            }\n        },\n        mounted() {\n            this.init()\n            this.show();\n\n        },\n        methods: {\n            init() {\n                const _this = this\n                axios.get('/home').then((res) => {\n                    _this.mnist = res.data,\n                  _this.mnist.code = \"请在上面框中描写数字，然后点击predict\"\n                })\n            },\n            show() {\n                this.canvas = this.$refs.canvas;// 指定canvas\n                this.ctx = this.canvas.getContext(\"2d\") // 设置2D渲染区域\n                this.ctx.strokeStyle = 'white';\n                this.ctx.fillStyle = \"black\";\n\n                this.ctx.lineWidth = 10; // 设置线的宽度\n\n            },\n            canvasDown(e) {\n                this.canvasMoveUse = true;\n                const canvasX = e.clientX - e.target.offsetLeft + document.documentElement.scrollLeft\n                const canvasY = e.clientY - e.target.offsetTop + document.documentElement.scrollTop\n                this.ctx.beginPath()  // 移动的起点\n                this.ctx.moveTo(canvasX, canvasY)\n            },\n            canvasMove(e) {\n                // 只在移动是进行绘制图线\n                if (this.canvasMoveUse) {\n                    const t = e.target;\n                    let canvasX;\n                    let canvasY;\n                    canvasX = e.clientX - t.offsetLeft + document.documentElement.scrollLeft\n                    canvasY = e.clientY - t.offsetTop + document.documentElement.scrollTop\n                    this.ctx.lineTo(canvasX, canvasY)\n                    this.ctx.stroke()\n                }\n            },\n            canvasUp() {\n                this.canvasMoveUse = false;\n            },\n            canvasLeave() {\n                this.canvasMoveUse = false;\n            },\n            clear() {\n                this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\n            },\n            predict() {\n                const _this = this\n                this.loading = true\n                const imgBase64 = this.$refs.canvas.toDataURL(\"image/jpeg\");\n                console.log(imgBase64);\n                axios.post(\"/predict\", imgBase64).then((res) => {\n                    _this.mnist = res.data\n                    this.loading = false\n                })\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .sign-canvas {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n    }\n\n    .sign-canvas canvas {\n        background: black;\n    }\n    .centered {\n      position: relative;\n      text-align: center;\n    }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mnist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mnist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mnist.vue?vue&type=template&id=de072500&scoped=true&\"\nimport script from \"./mnist.vue?vue&type=script&lang=js&\"\nexport * from \"./mnist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mnist.vue?vue&type=style&index=0&id=de072500&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de072500\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mnist.vue?vue&type=style&index=0&id=de072500&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mnist.vue?vue&type=style&index=0&id=de072500&scoped=true&lang=css&\""],"sourceRoot":""}